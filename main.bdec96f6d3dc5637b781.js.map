{"version":3,"sources":["webpack:///./template/countryRequest.hbs","webpack:///./js/pNotify.js","webpack:///./index.js","webpack:///./js/CountriesDetails.js","webpack:///./js/fetchCountries.js","webpack:///./template/countriesRequestList.hbs"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","alias1","lambda","alias2","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","stack1","helper","nullContext","hooks","helperMissing","alias3","alias4","program","noop","onNotify","text","type","title","delay","options","alert","input","section","this","_refs","document","querySelector","_delay","init","focus","addEventListener","debounce","onInput","bind","render","htmlString","setTimeout","innerHTML","createCountriesListTemplate","country","countryQueryList","createCountryMarkup","countryQuery","dataReceived","status","length","message","event","searchQuery","countryName","target","value","trim","fetch","then","response","json","catch","console","log"],"mappings":"8EAAA,IAAIA,EAAa,EAAQ,QAEzBC,EAAOC,SAAWF,EAAoB,SAAKA,GAAYG,SAAS,CAAC,EAAI,SAASC,EAAUC,EAAOC,EAAQC,EAASC,GAC5G,IAAIC,EAAOL,EAAUM,OAAQC,EAAOP,EAAUQ,iBAAkBC,EAAiBT,EAAUS,gBAAkB,SAASC,EAAQC,GAC1H,GAAIC,OAAOC,UAAUC,eAAeC,KAAKL,EAAQC,GAC/C,OAAOD,EAAOC,IAKtB,MAAO,uBACHJ,EAAOF,EAAkB,MAAVJ,EAAiBQ,EAAeR,EAAO,QAAUA,EAASA,IACzE,wCACAM,EAAOF,EAAkB,MAAVJ,EAAiBQ,EAAeR,EAAO,cAAgBA,EAASA,IAC/E,qBACJ,SAAW,CAAC,EAAE,YAAY,KAAO,SAASD,EAAUC,EAAOC,EAAQC,EAASC,GAC1E,IAAIY,EAAQC,EAAQZ,EAAiB,MAAVJ,EAAiBA,EAAUD,EAAUkB,aAAe,GAAKX,EAAOP,EAAUmB,MAAMC,cAAeC,EAAO,WAAYC,EAAOtB,EAAUQ,iBAAkBC,EAAiBT,EAAUS,gBAAkB,SAASC,EAAQC,GAC1O,GAAIC,OAAOC,UAAUC,eAAeC,KAAKL,EAAQC,GAC/C,OAAOD,EAAOC,IAKtB,MAAO,8GACHW,SAASL,EAAmH,OAAzGA,EAASR,EAAeP,EAAQ,UAAsB,MAAVD,EAAiBQ,EAAeR,EAAO,QAAUA,IAAmBgB,EAASV,KAA2Bc,EAASJ,EAAOF,KAAKV,EAAO,CAAC,KAAO,OAAO,KAAO,GAAG,KAAOD,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,IAAI,IAAM,CAAC,KAAO,EAAE,OAAS,OAASa,GAChT,oDACAK,SAASL,EAA+H,OAArHA,EAASR,EAAeP,EAAQ,gBAA4B,MAAVD,EAAiBQ,EAAeR,EAAO,cAAgBA,IAAmBgB,EAASV,KAA2Bc,EAASJ,EAAOF,KAAKV,EAAO,CAAC,KAAO,aAAa,KAAO,GAAG,KAAOD,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,IAAI,IAAM,CAAC,KAAO,EAAE,OAAS,OAASa,GAClU,yDACAK,SAASL,EAAyH,OAA/GA,EAASR,EAAeP,EAAQ,aAAyB,MAAVD,EAAiBQ,EAAeR,EAAO,WAAaA,IAAmBgB,EAASV,KAA2Bc,EAASJ,EAAOF,KAAKV,EAAO,CAAC,KAAO,UAAU,KAAO,GAAG,KAAOD,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,IAAI,IAAM,CAAC,KAAO,EAAE,OAAS,OAASa,GACzT,8DACAK,SAASL,EAA+H,OAArHA,EAASR,EAAeP,EAAQ,gBAA4B,MAAVD,EAAiBQ,EAAeR,EAAO,cAAgBA,IAAmBgB,EAASV,KAA2Bc,EAASJ,EAAOF,KAAKV,EAAO,CAAC,KAAO,aAAa,KAAO,GAAG,KAAOD,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,IAAI,IAAM,CAAC,KAAO,EAAE,OAAS,OAASa,GAClU,8GACiS,OAA/RD,EAASP,EAAeP,EAAQ,QAAQa,KAAKV,EAAkB,MAAVJ,EAAiBQ,EAAeR,EAAO,aAAeA,EAAQ,CAAC,KAAO,OAAO,KAAO,GAAG,GAAKD,EAAUuB,QAAQ,EAAGnB,EAAM,GAAG,QAAUJ,EAAUwB,KAAK,KAAOpB,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,IAAI,IAAM,CAAC,KAAO,GAAG,OAAS,QAAkBY,EAAS,IACjT,+GACAM,SAASL,EAAmH,OAAzGA,EAASR,EAAeP,EAAQ,UAAsB,MAAVD,EAAiBQ,EAAeR,EAAO,QAAUA,IAAmBgB,EAASV,KAA2Bc,EAASJ,EAAOF,KAAKV,EAAO,CAAC,KAAO,OAAO,KAAO,GAAG,KAAOD,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,GAAG,OAAS,IAAI,IAAM,CAAC,KAAO,GAAG,OAAS,OAASa,GAClT,UACAK,SAASL,EAAmH,OAAzGA,EAASR,EAAeP,EAAQ,UAAsB,MAAVD,EAAiBQ,EAAeR,EAAO,QAAUA,IAAmBgB,EAASV,KAA2Bc,EAASJ,EAAOF,KAAKV,EAAO,CAAC,KAAO,OAAO,KAAO,GAAG,KAAOD,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,GAAG,OAAS,IAAI,IAAM,CAAC,KAAO,GAAG,OAAS,OAASa,GAClT,mCACJ,SAAU,K,kKCpCL,SAASQ,EACdC,EACAC,EACAC,EACAC,QACA,IAJAH,MAAO,6BAIP,IAHAC,MAAO,cAGP,IAFAC,MAAQ,SAER,IADAC,MAAQ,KAER,IAAMC,EAAU,CACdF,QACAF,OACAC,OACAE,SAEFE,gBAAMD,G,8CCPa,ICDrB,WACE,cAA6C,IAA/BE,EAA+B,EAA/BA,MAAOC,EAAwB,EAAxBA,QAAwB,IAAfJ,aAAe,MAAP,IAAO,EAC3CK,KAAKC,MAAQ,CACXH,MAAOI,SAASC,cAAcL,GAC9BC,QAASG,SAASC,cAAcJ,IAElCC,KAAKI,OAAST,EANlB,2BAQEU,KAAA,WACEL,KAAKC,MAAMH,MAAMQ,QACjBN,KAAKC,MAAMH,MAAMS,iBACf,QACAC,mBAASR,KAAKS,QAAQC,KAAKV,MAAOA,KAAKI,UAZ7C,EAgBEO,OAAA,SAAOC,EAAYjB,GAAa,oBAAbA,MAAQ,KACzBkB,YAAW,WACT,EAAKZ,MAAMF,QAAQe,UAAYF,IAC9BjB,IAnBP,EAsBEoB,4BAAA,SAA4BC,GAC1BhB,KAAKW,OAAOM,IAAiBD,IAC7BzB,EACE,sDACA,OACA,6BA3BN,EA+BE2B,oBAAA,SAAoBF,GAClBhB,KAAKW,OAAOQ,IAAaH,IACzBzB,EACE,qDACA,OACA,qBApCN,EAuCE6B,aAAA,SAAalD,GACS,MAAhBA,EAAKmD,OAILnD,EAAKU,eAAe,QACtBoB,KAAKkB,oBAAoBhD,GAGvBA,EAAKoD,OAAS,GAChB/B,EAAS,6BACsBrB,EAAKoD,OAD5B,0CAEN,QACA,SAIgB,IAAhBpD,EAAKoD,OAITtB,KAAKe,4BAA4B7C,GAH/B8B,KAAKkB,oBAAoBhD,EAAK,IAhB9BqB,EAAS,GAAGrB,EAAKqD,QAAW,QAASrD,EAAKmD,SAzChD,EA8DEZ,QAAA,SAAQe,GACN,ICrE2BC,EDqErBC,EAAcF,EAAMG,OAAOC,MAAMC,OACnB,KAAhBH,GCtEuBD,ED2EZC,EC1ERI,MAAM,yCAC8BL,GACzCM,MAAK,SAAAC,GAAQ,OAAIA,EAASC,WDyEzBF,KAAK/B,KAAKoB,aAAaV,KAAKV,OAC5BkC,MAAMC,QAAQC,KANfpC,KAAKC,MAAMF,QAAQe,UAAY,IAjErC,KDCqB,CAAmB,CACtChB,MAAO,SACPC,QAAS,sBAGEM,Q,uBGZb,IAAI3C,EAAa,EAAQ,QAEzBC,EAAOC,SAAWF,EAAoB,SAAKA,GAAYG,SAAS,CAAC,EAAI,SAASC,EAAUC,EAAOC,EAAQC,EAASC,GAC5G,IAAIC,EAAOL,EAAUM,OAAQC,EAAOP,EAAUQ,iBAAkBC,EAAiBT,EAAUS,gBAAkB,SAASC,EAAQC,GAC1H,GAAIC,OAAOC,UAAUC,eAAeC,KAAKL,EAAQC,GAC/C,OAAOD,EAAOC,IAKtB,MAAO,uFACHJ,EAAOF,EAAkB,MAAVJ,EAAiBQ,EAAeR,EAAO,QAAUA,EAASA,IACzE,MACAM,EAAOF,EAAkB,MAAVJ,EAAiBQ,EAAeR,EAAO,cAAgBA,EAASA,IAC/E,8DACAM,EAAOF,EAAkB,MAAVJ,EAAiBQ,EAAeR,EAAO,QAAUA,EAASA,IACzE,UACAM,EAAOF,EAAkB,MAAVJ,EAAiBQ,EAAeR,EAAO,QAAUA,EAASA,IACzE,uBACJ,SAAW,CAAC,EAAE,YAAY,KAAO,SAASD,EAAUC,EAAOC,EAAQC,EAASC,GAC1E,IAAIY,EAON,MAAO,mCACqR,OAAtRA,GARyBhB,EAAUS,gBAAkB,SAASC,EAAQC,GACtE,GAAIC,OAAOC,UAAUC,eAAeC,KAAKL,EAAQC,GAC/C,OAAOD,EAAOC,KAMQT,EAAQ,QAAQa,KAAe,MAAVd,EAAiBA,EAAUD,EAAUkB,aAAe,GAAIjB,EAAO,CAAC,KAAO,OAAO,KAAO,GAAG,GAAKD,EAAUuB,QAAQ,EAAGnB,EAAM,GAAG,QAAUJ,EAAUwB,KAAK,KAAOpB,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,GAAG,IAAM,CAAC,KAAO,EAAE,OAAS,QAAkBY,EAAS,IACxS,SACJ,SAAU,M","file":"main.bdec96f6d3dc5637b781.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"\\r\\n            <li>\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \" - <span class=\\\"country-native-name\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"nativeName\") : depth0), depth0))\n    + \"</span> </li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"country-wrapper\\\">\\r\\n    <div class=\\\"country-description\\\">\\r\\n        <h2 class=\\\"country-name\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":33},\"end\":{\"line\":3,\"column\":41}}}) : helper)))\n    + \"</h2>\\r\\n        <h3 class=\\\"country-native-name\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"nativeName\") || (depth0 != null ? lookupProperty(depth0,\"nativeName\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"nativeName\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":40},\"end\":{\"line\":4,\"column\":54}}}) : helper)))\n    + \"</h3>\\r\\n        <h4 class=\\\"country-capital\\\">Capital: \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"capital\") || (depth0 != null ? lookupProperty(depth0,\"capital\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"capital\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":45},\"end\":{\"line\":5,\"column\":56}}}) : helper)))\n    + \"</h4>\\r\\n        <p class=\\\"country-population\\\">Population: \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"population\") || (depth0 != null ? lookupProperty(depth0,\"population\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"population\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":50},\"end\":{\"line\":6,\"column\":64}}}) : helper)))\n    + \"</p>\\r\\n        <p class=\\\"country-languages\\\">Languages:</p>\\r\\n        <ul class=\\\"country-languages-list\\\">\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"languages\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":43},\"end\":{\"line\":10,\"column\":21}}})) != null ? stack1 : \"\")\n    + \"        </ul>\\r\\n    </div>\\r\\n    <div class=\\\"country-flag\\\">\\r\\n        <img class=\\\"country-flag-img\\\" src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"flag\") || (depth0 != null ? lookupProperty(depth0,\"flag\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"flag\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":14,\"column\":43},\"end\":{\"line\":14,\"column\":51}}}) : helper)))\n    + \"\\\" alt=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":14,\"column\":58},\"end\":{\"line\":14,\"column\":66}}}) : helper)))\n    + \" flag\\\">\\r\\n    </div>\\r\\n</div>\";\n},\"useData\":true});","import { alert } from '@pnotify/core';\r\n\r\nexport function onNotify(\r\n  text = 'Something went wrong',\r\n  type = 'error',\r\n  title = '',\r\n  delay = 2000,\r\n) {\r\n  const options = {\r\n    title,\r\n    text,\r\n    type,\r\n    delay,\r\n  };\r\n  alert(options);\r\n}","import './styles.css';\r\nimport '@pnotify/core/dist/BrightTheme.css';\r\nimport '@pnotify/core/dist/PNotify.css';\r\nimport 'material-design-icons/iconfont/material-icons.css';\r\n\r\nimport { CountriesQuery } from './js/CountriesDetails';\r\n\r\nconst queryCountry = new CountriesQuery({\r\n  input: '.input',\r\n  section: '.template-wrapper',\r\n});\r\n\r\nqueryCountry.init();","import { fetchCountries } from './fetchCountries';\r\nimport { debounce } from 'lodash';\r\nimport { onNotify } from './pNotify';\r\nimport countryQuery from '../template/countryRequest.hbs';\r\nimport countryQueryList from '../template/countriesRequestList.hbs';\r\n\r\nexport class CountriesQuery {\r\n  constructor({ input, section, delay = 500 }) {\r\n    this._refs = {\r\n      input: document.querySelector(input),\r\n      section: document.querySelector(section),\r\n    };\r\n    this._delay = delay;\r\n  }\r\n  init() {\r\n    this._refs.input.focus();\r\n    this._refs.input.addEventListener(\r\n      'input',\r\n      debounce(this.onInput.bind(this), this._delay),\r\n    );\r\n  }\r\n\r\n  render(htmlString, delay = 150) {\r\n    setTimeout(() => {\r\n      this._refs.section.innerHTML = htmlString;\r\n    }, delay);\r\n  }\r\n\r\n  createCountriesListTemplate(country) {\r\n    this.render(countryQueryList(country));\r\n    onNotify(\r\n      'This is a list of the countries you are looking for',\r\n      'info',\r\n      'You can only choose one!',\r\n    );\r\n  }\r\n\r\n  createCountryMarkup(country) {\r\n    this.render(countryQuery(country));\r\n    onNotify(\r\n      'Success! This is the country you were looking for.',\r\n      'info',\r\n      'Congratulations!',\r\n    );\r\n  }\r\n  dataReceived(data) {\r\n    if (data.status === 404) {\r\n      onNotify(`${data.message}`, 'error', data.status);\r\n      return;\r\n    }\r\n    if (data.hasOwnProperty('name')) {\r\n      this.createCountryMarkup(data);\r\n      return;\r\n    }\r\n    if (data.length > 10) {\r\n      onNotify(\r\n        `Too many countries found: ${data.length}. Please enter a more specific request!`,\r\n        'error',\r\n        'ERROR',\r\n      );\r\n      return;\r\n    }\r\n    if (data.length === 1) {\r\n      this.createCountryMarkup(data[0]);\r\n      return;\r\n    }\r\n    this.createCountriesListTemplate(data);\r\n  }\r\n  onInput(event) {\r\n    const countryName = event.target.value.trim();\r\n    if (countryName === '') {\r\n      this._refs.section.innerHTML = '';\r\n      return;\r\n    }\r\n    debugger;\r\n    fetchCountries(countryName)\r\n      .then(this.dataReceived.bind(this))\r\n      .catch(console.log);\r\n  }\r\n}","export function fetchCountries(searchQuery) {\r\n    return fetch(\r\n      `https://restcountries.eu/rest/v2/name/${searchQuery}`,\r\n    ).then(response => response.json());\r\n  }","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    <li class=\\\"countries-list-item\\\">\\r\\n        <p class=\\\"countries-list-item-text\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \" - \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"nativeName\") : depth0), depth0))\n    + \"</p>\\r\\n        <img class=\\\"countries-list-item-flag\\\" src=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"flag\") : depth0), depth0))\n    + \"\\\" alt=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"\\\">\\r\\n    </li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<ul class=\\\"countries-list\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":4},\"end\":{\"line\":7,\"column\":13}}})) != null ? stack1 : \"\")\n    + \"</ul>\";\n},\"useData\":true});"],"sourceRoot":""}